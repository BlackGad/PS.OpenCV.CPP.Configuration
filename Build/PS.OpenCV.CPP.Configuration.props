<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
    <PropertyGroup Label="Open CV globals">
        <OpenCV_SDK Condition="'$(OpenCV_SDK)'==''">$(opencv2SDK)</OpenCV_SDK>
        <OpenCV_Platform_Override Condition=" '$(OpenCV_Platform_Override)' == '' ">x64</OpenCV_Platform_Override>
        <OpenCV_VCVersion_Override Condition=" '$(OpenCV_VCVersion_Override)' == '' ">vc15</OpenCV_VCVersion_Override>
    </PropertyGroup>
    <ItemDefinitionGroup>
        <ClCompile>
            <AdditionalIncludeDirectories>$(OpenCV_SDK)build\include\;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
        </ClCompile>
        <Link>
            <AdditionalLibraryDirectories>$(OpenCV_SDK)build\$(OpenCV_Platform_Override)\$(OpenCV_VCVersion_Override)\lib\;%(AdditionalLibraryDirectories)</AdditionalLibraryDirectories>
        </Link>
    </ItemDefinitionGroup>
    <ItemDefinitionGroup Condition="'$(Configuration)'=='Debug'">
        <Link>
            <AdditionalDependencies>opencv_world450d.lib;%(AdditionalDependencies)</AdditionalDependencies>
        </Link>
    </ItemDefinitionGroup>
    <ItemDefinitionGroup Condition="'$(Configuration)'=='Release'">
        <Link>
            <AdditionalDependencies>opencv_world450.lib;%(AdditionalDependencies)</AdditionalDependencies>
        </Link>
    </ItemDefinitionGroup>
    <Target Name="OpenCV_SDK_Variable_Check" BeforeTargets="PrepareForBuild">
        <Error Condition="'$(OpenCV_SDK' == ''" Text="'opencv2SDK' user/system global variable not set and 'OpenCV_SDK' was not specified in project before PS.OpenCV.CPP.Setup.props import." />
        <Error Condition="!Exists('$(OpenCV_SDK)')" Text="Directory defined in 'opencv2SDK' user/system global variable not exist ($(OpenCV_SDK)). Make sure path is correct." />
    </Target>
</Project>